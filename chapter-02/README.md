## chapter 02 리팩터링 원칙

### 2.1 리팩터링 정의

- 리팩터링이란?
  - 소프트웨어의 겉보기 동작은 그대로 유지한 채, 코드를 이해하고 수정하기 쉽도록 내부 구조를 변경하는 기법
- 겉보기 동작: 사용자 관점에서 달라지는 점이 없는 것

### 2.2 두 개의 모자

- ‘기능 추가’ 모자와 ‘리팩터링’ 모자를 바꿔쓰는 개발을 진행하기

### 2.3 리팩터링하는 이유

- 코드를 건강한 상태로 유지하는데 도와주는 약
  - 리팩터링하면 소프트웨어 설계가 좋아진다(품질 향상)
  - 리팩터링을 통해 코드를 이해하기 쉽게 만든다
  - 코드를 이해하기 쉬우면 버그를 쉽게 찾을 수 있다
  - 결론적으로 프로그래밍 속도를 높일 수 있다

### 2.4 언제 리팩터링해야 할까?

- 

### 2.5 리팩터링 시 고려할 문제

- 새 기능 개발 속도 저하: 건드릴 일이 거의 없거나, 불편한 정도가 심하지 않다고 판단되면 리팩터링하지 않는다
- 코드 소유권: 코드의 소유권을 고려하여 변경할 수도, 안할 수도 있다
- 브랜치: 
- 테스팅: 
- 레거시 코드: 
- 데이터베이스: 
- 스터디: 
  - 배포와 출시를 구분해야 함
  - 플래그(or 기능 토글)는 코드가 시간에 영향을 미치지 않도록 프로그래밍 해야 함
    - 예) if (Date >= 202107011400) return false;

### 2.6 리팩터링, 아키텍처, 애그니(YAGNI)

- 

### 2.7 리팩터링과 소프트웨어 개발 프로세스

- 팀이 따르는 실천법에 따라 리팩터링의 효과가 크게 달라짐
- 테스트 주도 개발(TDD): 자가 테스트 코드 + 리팩터링
- 리팩터링의 첫 번째 토대는 자가 테스트 코드
- 팀으로 개발하면서 리팩터링을 하기 위해서는 지속적 통합도 중요
- 마지막으로 리팩터링을 통해 문제를 짚을 수 있음
- 자가 테스트 코드 + 지속적 통합 + 리팩터링

### 2.8 리팩터링과 성능

- 직관적인 설계 vs 성능
- 직관적인 설계는 성능을 튜기하기 더 쉽게 만들어 준다
- 빠른 소프트웨어를 작성하는 방법
  - 시간 예산 분배 방식
  - 끊임없는 관심 기울이기
  - 의도적으로, 성능 최적화에 돌입하기 전까지는 코드를 다루기 쉽게 만들기
- 리팩터링을 잘 해두면 최적화에 두가지 면에서 도움이 됨
  - 성능 튜닝에 투입할 시간을 벌 수 있음
  - 성능을 더 세밀하게 분석할 수 있음

### 2.9 리팩터링의 유래

- 스몰토크

### 2.10 리팩터링 자동화

- 리팩터링의 발전 역사: 자동화

### 2.11 더 알고 싶다면

- 서적 추천
  - 패턴을 활용한 리팩터링
  - 리팩토링 데이터베이스